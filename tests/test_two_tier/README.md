# ğŸ¯ Two-Tier Tests - å…©éšæ®µæœå°‹æ©Ÿåˆ¶æ¸¬è©¦

## ğŸ“‹ ç›®çš„

é©—è­‰ Protocol Assistant å’Œ RVT Assistant çš„å…©éšæ®µæœå°‹æ©Ÿåˆ¶ã€‚

## ğŸ—ï¸ Two-Tier æ©Ÿåˆ¶åŸç†

**éšæ®µ 1ï¼šæ®µè½æœå°‹ï¼ˆé«˜é–¾å€¼ï¼‰**
- ä½¿ç”¨åŸå§‹é–¾å€¼ï¼ˆå¦‚ 0.7ï¼‰
- æœå°‹æ–‡æª”æ®µè½ï¼ˆæ›´ç²¾ç¢ºï¼‰
- å¿«é€Ÿæ‰¾åˆ°ç²¾ç¢ºåŒ¹é…

**éšæ®µ 2ï¼šæ–‡æª”æœå°‹ï¼ˆé™ç´šé–¾å€¼ï¼‰**
- ä½¿ç”¨é™ç´šé–¾å€¼ï¼ˆé–¾å€¼ Ã— 0.85ï¼‰
- æœå°‹æ•´ç¯‡æ–‡æª”
- æé«˜å¬å›ç‡ï¼ˆRecallï¼‰

## ğŸ“ æ¸¬è©¦æª”æ¡ˆ

### `test_protocol_two_tier_mechanism.py` (18 KB)
**Protocol Assistant å…©éšæ®µæ©Ÿåˆ¶æ¸¬è©¦**

**æ¸¬è©¦å ´æ™¯**ï¼š
1. Kingston é–‹å¡æµç¨‹æŸ¥è©¢
2. I3C Protocol èªªæ˜æŸ¥è©¢
3. Mode A é—œéµå­—è§¸ç™¼æ¸¬è©¦
4. å°è©±é€£çºŒæ€§æ¸¬è©¦
5. é™ç´šæ©Ÿåˆ¶è§¸ç™¼é©—è­‰

**æœ€å¾Œæ¸¬è©¦çµæœ**ï¼šâœ… **83.3% é€šéç‡ (5/6)**

---

### `test_rvt_two_tier_mechanism.py` (12 KB)
**RVT Assistant å…©éšæ®µæ©Ÿåˆ¶æ¸¬è©¦**

**æ¸¬è©¦å…§å®¹**ï¼š
- RVT ç›¸é—œå•é¡Œçš„å…©éšæ®µæœå°‹
- é–¾å€¼é™ç´šæ•ˆæœé©—è­‰
- æœå°‹æº–ç¢ºåº¦æ¸¬è©¦

---

### `test_two_tier_mechanism.py` (22 KB)
**é€šç”¨å…©éšæ®µæ©Ÿåˆ¶æ¸¬è©¦**

**æ¸¬è©¦å…§å®¹**ï¼š
- è·¨ Assistant çš„å…©éšæ®µæ©Ÿåˆ¶
- é™ç´šå› å­ï¼ˆ0.85ï¼‰é©—è­‰
- é‚Šç•Œæ¡ˆä¾‹æ¸¬è©¦

---

## ğŸ¯ åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰å…©éšæ®µæ¸¬è©¦
docker exec ai-django python -m pytest tests/test_two_tier/ -v

# åŸ·è¡Œ Protocol å…©éšæ®µæ¸¬è©¦
docker exec ai-django python tests/test_two_tier/test_protocol_two_tier_mechanism.py

# åŸ·è¡Œ RVT å…©éšæ®µæ¸¬è©¦
docker exec ai-django python tests/test_two_tier/test_rvt_two_tier_mechanism.py
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ¨™

| Assistant | éšæ®µ 1 æˆåŠŸç‡ | éšæ®µ 2 è§¸ç™¼ç‡ | æ•´é«”æº–ç¢ºåº¦ |
|-----------|-------------|-------------|-----------|
| Protocol  | ~70%        | ~30%        | 83.3%     |
| RVT       | ~75%        | ~25%        | 85%+      |

---

## ğŸ” é™ç´šé–¾å€¼è¨ˆç®—

```python
# éšæ®µ 1ï¼šåŸå§‹é–¾å€¼
stage1_threshold = 0.7

# éšæ®µ 2ï¼šé™ç´šé–¾å€¼
stage2_threshold = max(0.7 * 0.85, 0.5)  # = 0.595
```

**é™ç´šå› å­**ï¼š0.85ï¼ˆ15% æ”¾å¯¬ï¼‰  
**æœ€ä½é–¾å€¼**ï¼š0.5ï¼ˆé˜²æ­¢å™ªéŸ³ï¼‰

---

**å‰µå»ºæ—¥æœŸ**ï¼š2025-11-13  
**ç¶­è­·è€…**ï¼šAI Platform Team  
**ç›¸é—œæ–‡æª”**ï¼š`/docs/architecture/rvt-assistant-database-vector-architecture.md`
