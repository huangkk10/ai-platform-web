# Generated by Django 5.2.7 on 2025-11-23 16:10

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('api', '0045_search_benchmark_tables'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='DifyBenchmarkTestCase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question', models.TextField(verbose_name='測試問題')),
                ('test_class_name', models.CharField(blank=True, max_length=200, verbose_name='測試類別')),
                ('expected_answer', models.TextField(blank=True, verbose_name='期望答案')),
                ('answer_keywords', models.JSONField(default=list, verbose_name='關鍵字')),
                ('evaluation_criteria', models.JSONField(blank=True, default=dict, verbose_name='評分標準')),
                ('difficulty_level', models.CharField(choices=[('easy', '簡單'), ('medium', '中等'), ('hard', '困難')], default='medium', max_length=20, verbose_name='難度')),
                ('question_type', models.CharField(blank=True, max_length=50, verbose_name='問題類型')),
                ('max_score', models.DecimalField(decimal_places=2, default=100.0, max_digits=5, verbose_name='滿分')),
                ('is_active', models.BooleanField(default=True, verbose_name='啟用')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
            ],
            options={
                'verbose_name': 'Dify 測試案例',
                'verbose_name_plural': 'Dify 測試案例',
                'db_table': 'dify_benchmark_test_case',
                'ordering': ['id'],
            },
        ),
        migrations.AlterModelOptions(
            name='benchmarkmetric',
            options={'ordering': ['display_order'], 'verbose_name': '評分維度', 'verbose_name_plural': '評分維度'},
        ),
        migrations.AlterModelOptions(
            name='benchmarktestcase',
            options={'ordering': ['category', 'difficulty_level'], 'verbose_name': '測試案例', 'verbose_name_plural': '測試案例'},
        ),
        migrations.AlterModelOptions(
            name='benchmarktestresult',
            options={'ordering': ['test_run', 'id'], 'verbose_name': '測試結果', 'verbose_name_plural': '測試結果'},
        ),
        migrations.AlterModelOptions(
            name='benchmarktestrun',
            options={'ordering': ['-created_at'], 'verbose_name': '測試執行記錄', 'verbose_name_plural': '測試執行記錄'},
        ),
        migrations.AlterModelOptions(
            name='searchalgorithmversion',
            options={'ordering': ['-created_at'], 'verbose_name': '搜尋演算法版本', 'verbose_name_plural': '搜尋演算法版本'},
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='calculation_method',
            field=models.TextField(blank=True, verbose_name='計算方式'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='創建時間'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='description',
            field=models.TextField(blank=True, verbose_name='描述'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='display_order',
            field=models.IntegerField(default=0, verbose_name='顯示順序'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='is_active',
            field=models.BooleanField(default=True, verbose_name='是否啟用'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='max_score',
            field=models.DecimalField(decimal_places=2, default=100.0, max_digits=5, verbose_name='最高分'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='metric_key',
            field=models.CharField(max_length=50, unique=True, verbose_name='維度鍵值'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='metric_name',
            field=models.CharField(max_length=100, unique=True, verbose_name='維度名稱'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='metric_type',
            field=models.CharField(blank=True, max_length=30, verbose_name='維度類型'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='min_score',
            field=models.DecimalField(decimal_places=2, default=0.0, max_digits=5, verbose_name='最低分'),
        ),
        migrations.AlterField(
            model_name='benchmarkmetric',
            name='weight',
            field=models.DecimalField(decimal_places=2, default=1.0, max_digits=3, verbose_name='權重'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='acceptable_document_ids',
            field=models.JSONField(default=list, verbose_name='可接受文檔IDs'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='avg_score',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='平均分數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='category',
            field=models.CharField(blank=True, max_length=100, verbose_name='類別'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='創建時間'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_test_cases', to=settings.AUTH_USER_MODEL, verbose_name='創建者'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='difficulty_level',
            field=models.CharField(blank=True, max_length=20, verbose_name='難度等級'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='expected_answer_summary',
            field=models.TextField(blank=True, verbose_name='預期答案摘要'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='expected_document_ids',
            field=models.JSONField(default=list, verbose_name='預期文檔IDs'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='expected_keywords',
            field=models.JSONField(default=list, verbose_name='預期關鍵字'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='is_active',
            field=models.BooleanField(default=True, verbose_name='是否啟用'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='is_validated',
            field=models.BooleanField(default=False, verbose_name='是否已驗證'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='min_required_matches',
            field=models.IntegerField(default=1, verbose_name='最少匹配數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='question',
            field=models.TextField(verbose_name='測試問題'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='question_type',
            field=models.CharField(blank=True, max_length=50, verbose_name='問題類型'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='source',
            field=models.CharField(blank=True, max_length=100, verbose_name='來源'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='tags',
            field=models.JSONField(default=list, verbose_name='標籤'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='total_runs',
            field=models.IntegerField(default=0, verbose_name='總執行次數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestcase',
            name='updated_at',
            field=models.DateTimeField(auto_now=True, verbose_name='更新時間'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='創建時間'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='detailed_results',
            field=models.JSONField(default=dict, verbose_name='詳細結果'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='f1_score',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='F1分數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='false_negatives',
            field=models.IntegerField(blank=True, null=True, verbose_name='假陰性'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='false_positives',
            field=models.IntegerField(blank=True, null=True, verbose_name='假陽性'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='is_passed',
            field=models.BooleanField(blank=True, null=True, verbose_name='是否通過'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='ndcg_score',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='NDCG分數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='pass_reason',
            field=models.TextField(blank=True, verbose_name='通過原因'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='precision_score',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='精準度分數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='recall_score',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='召回率分數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='response_time',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='響應時間(ms)'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='returned_document_ids',
            field=models.JSONField(default=list, verbose_name='返回文檔IDs'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='returned_document_scores',
            field=models.JSONField(default=list, verbose_name='返回文檔分數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='search_query',
            field=models.TextField(verbose_name='搜尋查詢'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='test_case',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='results', to='api.benchmarktestcase', verbose_name='測試案例'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='test_run',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='results', to='api.benchmarktestrun', verbose_name='測試執行'),
        ),
        migrations.AlterField(
            model_name='benchmarktestresult',
            name='true_positives',
            field=models.IntegerField(blank=True, null=True, verbose_name='真陽性'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='avg_f1_score',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='平均F1分數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='avg_precision',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='平均精準度'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='avg_recall',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='平均召回率'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='avg_response_time',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='平均響應時間'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='completed_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='完成時間'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='completed_test_cases',
            field=models.IntegerField(default=0, verbose_name='已完成案例數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='創建時間'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='duration_seconds',
            field=models.IntegerField(blank=True, null=True, verbose_name='執行時長(秒)'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='environment',
            field=models.CharField(blank=True, max_length=50, verbose_name='環境'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='git_commit_hash',
            field=models.CharField(blank=True, max_length=40, verbose_name='Git Commit Hash'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='notes',
            field=models.TextField(blank=True, verbose_name='備註'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='overall_score',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='總分'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='run_name',
            field=models.CharField(blank=True, max_length=200, verbose_name='執行名稱'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='run_type',
            field=models.CharField(default='manual', max_length=50, verbose_name='執行類型'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='started_at',
            field=models.DateTimeField(blank=True, null=True, verbose_name='開始時間'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='status',
            field=models.CharField(default='pending', max_length=30, verbose_name='狀態'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='total_test_cases',
            field=models.IntegerField(verbose_name='總測試案例數'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='triggered_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='triggered_test_runs', to=settings.AUTH_USER_MODEL, verbose_name='觸發者'),
        ),
        migrations.AlterField(
            model_name='benchmarktestrun',
            name='version',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='test_runs', to='api.searchalgorithmversion', verbose_name='版本'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='algorithm_type',
            field=models.CharField(blank=True, max_length=50, verbose_name='演算法類型'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='avg_precision',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='平均精準度'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='avg_recall',
            field=models.DecimalField(blank=True, decimal_places=4, max_digits=5, null=True, verbose_name='平均召回率'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='avg_response_time',
            field=models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='平均響應時間'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='創建時間'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_versions', to=settings.AUTH_USER_MODEL, verbose_name='創建者'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='description',
            field=models.TextField(blank=True, verbose_name='描述'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='is_active',
            field=models.BooleanField(default=True, verbose_name='是否啟用'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='is_baseline',
            field=models.BooleanField(default=False, verbose_name='是否為基準版本'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='parameters',
            field=models.JSONField(default=dict, verbose_name='參數配置'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='total_tests',
            field=models.IntegerField(default=0, verbose_name='總測試次數'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='version_code',
            field=models.CharField(max_length=50, unique=True, verbose_name='版本代碼'),
        ),
        migrations.AlterField(
            model_name='searchalgorithmversion',
            name='version_name',
            field=models.CharField(max_length=100, verbose_name='版本名稱'),
        ),
        migrations.CreateModel(
            name='DifyConfigVersion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('version_name', models.CharField(max_length=200, unique=True, verbose_name='版本名稱')),
                ('version_code', models.CharField(max_length=100, unique=True, verbose_name='版本代碼')),
                ('description', models.TextField(blank=True, verbose_name='描述')),
                ('dify_app_id', models.CharField(max_length=100, verbose_name='Dify App ID')),
                ('dify_api_key', models.CharField(max_length=200, verbose_name='Dify API Key')),
                ('dify_api_url', models.CharField(default='http://10.10.172.37/v1/chat-messages', max_length=500, verbose_name='Dify API URL')),
                ('system_prompt', models.TextField(blank=True, verbose_name='系統提示詞')),
                ('rag_settings', models.JSONField(blank=True, default=dict, verbose_name='RAG 設置')),
                ('model_config', models.JSONField(blank=True, default=dict, verbose_name='模型配置')),
                ('retrieval_mode', models.CharField(blank=True, max_length=50, verbose_name='檢索模式')),
                ('custom_config', models.JSONField(blank=True, default=dict, verbose_name='自訂配置')),
                ('is_active', models.BooleanField(default=True, verbose_name='啟用')),
                ('is_baseline', models.BooleanField(default=False, verbose_name='基準版本')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新時間')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='創建者')),
            ],
            options={
                'verbose_name': 'Dify 配置版本',
                'verbose_name_plural': 'Dify 配置版本',
                'db_table': 'dify_config_version',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='DifyTestResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('dify_answer', models.TextField(verbose_name='Dify 回答')),
                ('dify_message_id', models.CharField(blank=True, max_length=200, verbose_name='Dify 訊息ID')),
                ('score', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='分數')),
                ('is_passed', models.BooleanField(verbose_name='通過')),
                ('completeness_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='完整性分數')),
                ('accuracy_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='準確性分數')),
                ('relevance_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='相關性分數')),
                ('evaluation_details', models.JSONField(blank=True, default=dict, verbose_name='評分詳細說明')),
                ('matched_keywords', models.JSONField(blank=True, default=list, verbose_name='匹配關鍵字')),
                ('missing_keywords', models.JSONField(blank=True, default=list, verbose_name='缺失關鍵字')),
                ('response_time', models.DecimalField(blank=True, decimal_places=3, max_digits=10, null=True, verbose_name='響應時間')),
                ('retrieved_documents', models.JSONField(blank=True, default=list, verbose_name='檢索文檔')),
                ('retrieval_scores', models.JSONField(blank=True, default=list, verbose_name='檢索分數')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('test_case', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.difybenchmarktestcase', verbose_name='測試案例')),
            ],
            options={
                'verbose_name': 'Dify 測試結果',
                'verbose_name_plural': 'Dify 測試結果',
                'db_table': 'dify_test_result',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='DifyAnswerEvaluation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question', models.TextField(verbose_name='問題')),
                ('expected_answer', models.TextField(blank=True, verbose_name='期望答案')),
                ('actual_answer', models.TextField(verbose_name='實際答案')),
                ('evaluator_model', models.CharField(default='keyword_only', max_length=100, verbose_name='評分模型')),
                ('evaluation_prompt', models.TextField(blank=True, verbose_name='評分提示詞')),
                ('evaluation_response', models.TextField(blank=True, verbose_name='評分回應')),
                ('scores', models.JSONField(default=dict, verbose_name='各項分數')),
                ('feedback', models.TextField(blank=True, verbose_name='評分反饋')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('test_result', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='evaluations', to='api.difytestresult', verbose_name='測試結果')),
            ],
            options={
                'verbose_name': 'Dify 答案評分記錄',
                'verbose_name_plural': 'Dify 答案評分記錄',
                'db_table': 'dify_answer_evaluation',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='DifyTestRun',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('run_name', models.CharField(max_length=300, verbose_name='測試名稱')),
                ('run_type', models.CharField(default='batch_comparison', max_length=50, verbose_name='測試類型')),
                ('batch_id', models.CharField(blank=True, max_length=100, verbose_name='批次ID')),
                ('total_test_cases', models.IntegerField(default=0, verbose_name='總測試案例數')),
                ('passed_cases', models.IntegerField(default=0, verbose_name='通過案例數')),
                ('failed_cases', models.IntegerField(default=0, verbose_name='失敗案例數')),
                ('average_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='平均分數')),
                ('total_score', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='總分數')),
                ('pass_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='通過率')),
                ('total_execution_time', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='總執行時間')),
                ('average_response_time', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='平均響應時間')),
                ('completeness_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='完整性分數')),
                ('accuracy_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='準確性分數')),
                ('relevance_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='相關性分數')),
                ('notes', models.TextField(blank=True, verbose_name='備註')),
                ('started_at', models.DateTimeField(null=True, verbose_name='開始時間')),
                ('completed_at', models.DateTimeField(null=True, verbose_name='完成時間')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='創建時間')),
                ('version', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='test_runs', to='api.difyconfigversion', verbose_name='測試版本')),
            ],
            options={
                'verbose_name': 'Dify 測試執行記錄',
                'verbose_name_plural': 'Dify 測試執行記錄',
                'db_table': 'dify_test_run',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='difytestresult',
            name='test_run',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='results', to='api.difytestrun', verbose_name='測試執行'),
        ),
    ]
