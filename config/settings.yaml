# AI Platform Web 專案配置文件
# 此文件包含專案的主要配置參數

# AI 服務器配置
ai_server:
  ai_pc_ip: "10.10.172.37"
  # 其他 AI 服務相關配置可以在此添加
  # ai_port: 80
  # ai_protocol: "http"

# Web 服務器配置
web_server:
  web_ip: "10.10.172.127"
  # 其他 Web 服務相關配置可以在此添加
  # web_port: 80
  # web_protocol: "http"

# 資料庫服務器配置
# ⚠️ 重要：資料庫已遷移到獨立主機，修改此配置後需同步更新 docker-compose.yml
# 參考文檔：docs/deployment/database-migration-plan.md
database_server:
  host: "10.10.173.29"          # 資料庫主機 IP
  port: 5432                     # PostgreSQL 端口
  database: "ai_platform"        # 資料庫名稱
  user: "postgres"               # 資料庫用戶
  password: "postgres123"        # 資料庫密碼
  
  # SSH 連線資訊（用於維護）
  ssh_user: "svd-ai"
  ssh_password: "1"              # ⚠️ 建議改用 SSH key
  
  # Adminer Web 管理介面
  adminer_port: 9090
  adminer_url: "http://10.10.173.29:9090"

# 舊的資料庫配置（已廢棄，保留供參考）
# database:
#   postgres_host: "localhost"   # 原本使用 postgres_db 容器
#   postgres_port: 5432
#   postgres_db: "ai_platform"

# API 配置
api:
  # timeout: 60
  # retry_count: 3

# 前端配置
frontend:
  # theme: "default"
  # language: "zh-TW"

# 系統監控配置
system_monitoring:
  services:
    # Django 服務配置
    django:
      enabled: true
      port: 8000
      service_type: "Web Framework"
    
    # 資料庫服務配置
    database:
      enabled: true
      type: "PostgreSQL"
      # 使用 Django 連接，不需要額外配置
    
    # 前端服務配置
    frontend:
      enabled: true
      host: "ai-react"  # Docker 容器名稱
      port: 3000
      timeout: 3  # 連接超時秒數
      
    # Nginx 代理服務配置
    nginx:
      enabled: true
      host: "ai-nginx"  # Docker 容器名稱
      port: 80
      timeout: 3
      
    # 可選：其他服務配置
    # redis:
    #   enabled: false
    #   host: "localhost"
    #   port: 6379
    
    # elasticsearch:
    #   enabled: false
    #   host: "localhost" 
    #   port: 9200

  # 資源監控閾值配置
  thresholds:
    cpu:
      warning: 80
      critical: 90
    memory:
      warning: 80
      critical: 90
    disk:
      warning: 85
      critical: 95

  # 資料庫表監控配置
  database_tables:
    - key: "users"
      table: "auth_user"
      display: "用戶"
    - key: "know_issues"
      table: "know_issue" 
      display: "Know Issue"
    - key: "projects"
      table: "api_project"
      display: "專案"
    - key: "rvt_guides" 
      table: "rvt_guide"
      display: "RVT 指南"
    - key: "ocr_benchmarks"
      table: "ocr_storage_benchmark"
      display: "OCR 基準測試"
    - key: "test_classes"
      table: "protocol_test_class"
      display: "測試類別"
    - key: "employees"
      table: "employee"
      display: "員工"
    - key: "user_profiles"
      table: "api_userprofile"
      display: "用戶檔案"

# 日誌配置
logging:
  # level: "INFO"
  # format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 版本信息
version: "1.0.0"
last_updated: "2025-10-01"