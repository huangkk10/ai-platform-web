# ğŸ“Š AI Assistant åœ–è¡¨åŠŸèƒ½é–‹ç™¼è¨ˆç•«æ›¸

> **ç‰ˆæœ¬**: v1.0  
> **å»ºç«‹æ—¥æœŸ**: 2024-12-08  
> **ç‹€æ…‹**: ğŸ“‹ è¦åŠƒä¸­  
> **è² è²¬äºº**: AI Platform Team

---

## ğŸ“‹ ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¿°](#1-å°ˆæ¡ˆæ¦‚è¿°)
2. [ç¾æ³åˆ†æ](#2-ç¾æ³åˆ†æ)
3. [æŠ€è¡“æ–¹æ¡ˆ](#3-æŠ€è¡“æ–¹æ¡ˆ)
4. [è©³ç´°è¨­è¨ˆ](#4-è©³ç´°è¨­è¨ˆ)
5. [å¯¦ä½œè¨ˆç•«](#5-å¯¦ä½œè¨ˆç•«)
6. [æª”æ¡ˆè®Šæ›´æ¸…å–®](#6-æª”æ¡ˆè®Šæ›´æ¸…å–®)
7. [æ¸¬è©¦è¨ˆç•«](#7-æ¸¬è©¦è¨ˆç•«)
8. [é¢¨éšªè©•ä¼°](#8-é¢¨éšªè©•ä¼°)
9. [é™„éŒ„](#9-é™„éŒ„)

---

## 1. å°ˆæ¡ˆæ¦‚è¿°

### 1.1 èƒŒæ™¯

ç›®å‰ AI Platform çš„ä¸‰å€‹ Assistantï¼ˆSAF Assistantã€Protocol Assistantã€RVT Assistantï¼‰éƒ½ä½¿ç”¨ Markdown æ ¼å¼å›æ‡‰ï¼Œé€éå‰ç«¯æ¸²æŸ“æˆ HTML é¡¯ç¤ºã€‚

å°æ–¼ SAF Assistant çš„è¶¨å‹¢åˆ†æã€ç‰ˆæœ¬æ¯”è¼ƒç­‰åŠŸèƒ½ï¼Œç´”æ–‡å­—å’Œè¡¨æ ¼é›£ä»¥ç›´è§€å‘ˆç¾è³‡æ–™è¶¨å‹¢ï¼Œéœ€è¦åœ–è¡¨ä¾†å¢å¼·å¯è¦–åŒ–æ•ˆæœã€‚

### 1.2 ç›®æ¨™

åœ¨ç¾æœ‰ Markdown æ¸²æŸ“åŸºç¤ä¸Šï¼Œç‚ºæ‰€æœ‰ AI Assistant æ·»åŠ åœ–è¡¨æ”¯æ´åŠŸèƒ½ï¼š

| åœ–è¡¨é¡å‹ | è‹±æ–‡åç¨± | ä¸»è¦ç”¨é€” |
|----------|----------|----------|
| æ›²ç·šåœ– | Line Chart | è¶¨å‹¢åˆ†æã€æ™‚é–“åºåˆ— |
| é•·æ¢åœ– | Bar Chart | æ•¸é‡æ¯”è¼ƒã€é¡åˆ¥çµ±è¨ˆ |
| åœ“é¤…åœ– | Pie Chart | æ¯”ä¾‹åˆ†å¸ƒã€ä½”æ¯”åˆ†æ |
| ç’°å½¢åœ– | Doughnut Chart | é¡ä¼¼åœ“é¤…åœ–ï¼Œè¦–è¦ºæ›´ç¾ä»£ |

### 1.3 é©ç”¨ç¯„åœ

| Assistant | é©ç”¨å ´æ™¯ | å„ªå…ˆç´š |
|-----------|----------|--------|
| SAF Assistant | å¤šç‰ˆæœ¬è¶¨å‹¢æ¯”è¼ƒã€æ¸¬è©¦çµæœåˆ†å¸ƒ | â­ é«˜ï¼ˆé¦–å…ˆå¯¦ä½œï¼‰ |
| Protocol Assistant | å•é¡Œåˆ†é¡çµ±è¨ˆã€è¶¨å‹¢åˆ†æ | ä¸­ |
| RVT Assistant | æ¸¬è©¦çµ±è¨ˆã€é¡åˆ¥åˆ†å¸ƒ | ä¸­ |

### 1.4 æˆåŠŸæ¨™æº–

- [ ] SAF Assistant å¤šç‰ˆæœ¬æ¯”è¼ƒå¯é¡¯ç¤ºè¶¨å‹¢æ›²ç·šåœ–
- [ ] åœ–è¡¨åœ¨æ¡Œé¢å’Œæ‰‹æ©Ÿä¸Šéƒ½èƒ½æ­£å¸¸é¡¯ç¤º
- [ ] æ‰€æœ‰ Assistant å…±ç”¨åŒä¸€å¥—åœ–è¡¨çµ„ä»¶
- [ ] å‘å¾Œå…¼å®¹ï¼šèˆŠç‰ˆå›æ‡‰ä¸å—å½±éŸ¿

---

## 2. ç¾æ³åˆ†æ

### 2.1 ç›®å‰æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç›®å‰è³‡æ–™æµç¨‹                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ¶æå•
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend  â”‚â”€â”€â”€â”€â–¶â”‚   Backend   â”‚â”€â”€â”€â”€â–¶â”‚   SAF API   â”‚
â”‚  (React)    â”‚â—€â”€â”€â”€â”€â”‚  (Django)   â”‚â—€â”€â”€â”€â”€â”‚  (External) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                     â”‚
    â”‚                     â–¼
    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              â”‚   Handler   â”‚
    â”‚              â”‚ (ç”Ÿæˆå›æ‡‰)   â”‚
    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                     â”‚
    â”‚                     â–¼
    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              â”‚  Markdown æ–‡å­—å›æ‡‰               â”‚
    â”‚              â”‚  (åŒ…å«è¡¨æ ¼ã€æ¨™é¡Œã€åˆ—è¡¨ç­‰)        â”‚
    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                     â”‚
    â–¼                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å‰ç«¯ Markdown æ¸²æŸ“å™¨                    â”‚
â”‚              (è½‰æ›æˆ HTML é¡¯ç¤º)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
ç”¨æˆ¶çœ‹åˆ° HTML æ ¼å¼çš„å›æ‡‰
```

### 2.2 ç¾æœ‰ç¨‹å¼ç¢¼åˆ†æ

#### å¾Œç«¯ï¼šå·²æœ‰åœ–è¡¨è³‡æ–™ç”¢ç”Ÿ

`compare_multiple_fw_handler.py` ä¸­å·²æœ‰ `_generate_chart_data()` æ–¹æ³•ï¼š

```python
def _generate_chart_data(self, project_name, versions_data, trends):
    """ç”Ÿæˆåœ–è¡¨è³‡æ–™"""
    return {
        'chart_type': 'multi_version_trend',
        'title': f'{project_name} FW ç‰ˆæœ¬è¶¨å‹¢æ¯”è¼ƒ',
        'labels': [v['fw_version'] for v in versions_data],
        'datasets': [
            {
                'label': 'Pass',
                'data': [v.get('pass', 0) for v in versions_data],
                'color': '#52c41a'
            },
            {
                'label': 'Fail', 
                'data': [v.get('fail', 0) for v in versions_data],
                'color': '#ff4d4f'
            },
            # ... æ›´å¤šæ•¸æ“šç³»åˆ—
        ]
    }
```

**å•é¡Œ**ï¼šé€™äº›è³‡æ–™å­˜åœ¨ `QueryResult.data['chart_data']` ä¸­ï¼Œä½†å‰ç«¯æ²’æœ‰ä½¿ç”¨ã€‚

#### å‰ç«¯ï¼šå…±ç”¨æ¸²æŸ“çµ„ä»¶

ä¸‰å€‹ Assistant å…±ç”¨çš„çµ„ä»¶ï¼š
- `MessageList.jsx` - è¨Šæ¯åˆ—è¡¨å®¹å™¨
- Markdown æ¸²æŸ“ï¼ˆå¯èƒ½ä½¿ç”¨ `react-markdown` æˆ–è‡ªå®šç¾©ï¼‰

### 2.3 æŠ€è¡“å‚µå‹™

| å•é¡Œ | å½±éŸ¿ | è§£æ±ºæ–¹æ¡ˆ |
|------|------|----------|
| åœ–è¡¨è³‡æ–™æœªè¢«ä½¿ç”¨ | æµªè²»è¨ˆç®—è³‡æº | æ•´åˆåˆ° Markdown è¼¸å‡º |
| å‰ç«¯ç„¡åœ–è¡¨çµ„ä»¶ | ç„¡æ³•é¡¯ç¤ºåœ–è¡¨ | æ–°å¢åœ–è¡¨çµ„ä»¶ |
| Markdown è§£æå™¨åŠŸèƒ½æœ‰é™ | ç„¡æ³•åµŒå…¥è‡ªå®šç¾©çµ„ä»¶ | æ“´å±•è§£æå™¨ |

---

## 3. æŠ€è¡“æ–¹æ¡ˆ

### 3.1 æ–¹æ¡ˆé¸å‹

ç¶“éè©•ä¼°ï¼Œé¸æ“‡ **ã€ŒMarkdown å…§åµŒåœ–è¡¨æ¨™è¨˜ã€** æ–¹æ¡ˆã€‚

#### é‹ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ–°è³‡æ–™æµç¨‹                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¾Œç«¯ Handler ç”¢ç”Ÿå›æ‡‰
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Markdown æ–‡å­—ï¼ˆåŒ…å« :::chart æ¨™è¨˜ï¼‰                             â”‚
â”‚                                                                  â”‚
â”‚  ## ğŸ“Š Springsteen å¤šç‰ˆæœ¬è¶¨å‹¢æ¯”è¼ƒ                               â”‚
â”‚                                                                  â”‚
â”‚  :::chart                                                        â”‚
â”‚  {"type":"line","title":"Pass/Fail è¶¨å‹¢",...}                   â”‚
â”‚  :::                                                             â”‚
â”‚                                                                  â”‚
â”‚  ### è©³ç´°æ•¸æ“š                                                    â”‚
â”‚  | ç‰ˆæœ¬ | Pass | Fail |                                          â”‚
â”‚  ...                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ MarkdownRenderer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1. åˆ†å‰² Markdown å…§å®¹                                       â”‚ â”‚
â”‚  â”‚ 2. è­˜åˆ¥æ™®é€šæ®µè½ vs :::chart å€å¡Š                            â”‚ â”‚
â”‚  â”‚ 3. æ™®é€šæ®µè½ â†’ æ¨™æº– Markdown æ¸²æŸ“                            â”‚ â”‚
â”‚  â”‚ 4. :::chart å€å¡Š â†’ è§£æ JSON â†’ ChartRenderer çµ„ä»¶           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ¶çœ‹åˆ°çš„ç•«é¢                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ## ğŸ“Š Springsteen å¤šç‰ˆæœ¬è¶¨å‹¢æ¯”è¼ƒ                           â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚ â”‚              ğŸ“ˆ Pass/Fail è¶¨å‹¢åœ–                        â”‚â”‚ â”‚
â”‚  â”‚ â”‚                                                         â”‚â”‚ â”‚
â”‚  â”‚ â”‚  150 â”¤              â•­â”€â”€â”€â”€â”€â”€â—                            â”‚â”‚ â”‚
â”‚  â”‚ â”‚  100 â”¤      â•­â”€â”€â”€â”€â”€â”€â”€â•¯                                   â”‚â”‚ â”‚
â”‚  â”‚ â”‚   50 â”¤â”€â”€â”€â”€â”€â”€â•¯                                           â”‚â”‚ â”‚
â”‚  â”‚ â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€                         â”‚â”‚ â”‚
â”‚  â”‚ â”‚            V1      V2      V3                           â”‚â”‚ â”‚
â”‚  â”‚ â”‚                                                         â”‚â”‚ â”‚
â”‚  â”‚ â”‚  â— Pass  â—‹ Fail                                         â”‚â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚ ### è©³ç´°æ•¸æ“š                                                â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                   â”‚ â”‚
â”‚  â”‚ â”‚ ç‰ˆæœ¬   â”‚ Pass â”‚ Fail â”‚                                   â”‚ â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                                   â”‚ â”‚
â”‚  â”‚ â”‚ V1     â”‚ 100  â”‚ 20   â”‚                                   â”‚ â”‚
â”‚  â”‚ â”‚ V2     â”‚ 120  â”‚ 15   â”‚                                   â”‚ â”‚
â”‚  â”‚ â”‚ V3     â”‚ 150  â”‚ 10   â”‚                                   â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ–¹æ¡ˆå„ªé»

| å„ªé» | èªªæ˜ |
|------|------|
| âœ… å‘å¾Œå…¼å®¹ | èˆŠç‰ˆå‰ç«¯å¿½ç•¥ `:::chart` å€å¡Šï¼Œä¸æœƒå´©æ½° |
| âœ… çµ±ä¸€æ ¼å¼ | æ‰€æœ‰ Assistant ä½¿ç”¨ç›¸åŒçš„æ¨™è¨˜èªæ³• |
| âœ… æ˜“æ–¼æ“´å±• | æœªä¾†æ–°å¢åœ–è¡¨é¡å‹åªéœ€æ›´æ–°å‰ç«¯çµ„ä»¶ |
| âœ… ä¿ç•™æ–‡å­—å‚™ä»½ | åœ–è¡¨ä¸‹æ–¹ä»æœ‰è¡¨æ ¼ï¼Œç„¡éšœç¤™å‹å¥½ |

### 3.2 æŠ€è¡“é¸å‹

#### å‰ç«¯åœ–è¡¨åº«

| é¸é … | å„ªé» | ç¼ºé» | æ±ºå®š |
|------|------|------|------|
| **Chart.js + react-chartjs-2** | è¼•é‡ï¼ˆ~60KBï¼‰ã€æ–‡æª”è±å¯Œã€ç¤¾ç¾¤æ´»èº | åŠŸèƒ½ç›¸å°åŸºç¤ | âœ… **é¸ç”¨** |
| ECharts | åŠŸèƒ½å¼·å¤§ã€è¦–è¦ºæ•ˆæœå¥½ | è¼ƒé‡ï¼ˆ~1MBï¼‰ã€å­¸ç¿’æ›²ç·šé™¡ | âŒ |
| Recharts | React åŸç”Ÿã€è²æ˜å¼ API | è‡ªå®šç¾©è¼ƒéº»ç…© | âŒ |
| Ant Design Charts | èˆ‡ Ant Design ä¸€è‡´ | ç›¸å°è¼ƒæ–°ã€æ–‡æª”å°‘ | âŒ |

**é¸ç”¨ç†ç”±**ï¼š
1. èˆ‡ç¾æœ‰ Ant Design é¢¨æ ¼å…¼å®¹
2. å®‰è£ç°¡å–®ï¼Œå­¸ç¿’æˆæœ¬ä½
3. æ”¯æ´éŸ¿æ‡‰å¼è¨­è¨ˆ
4. ç¤¾ç¾¤æ´»èºï¼Œå•é¡Œå®¹æ˜“è§£æ±º

#### å®‰è£æŒ‡ä»¤

```bash
npm install chart.js react-chartjs-2
```

---

## 4. è©³ç´°è¨­è¨ˆ

### 4.1 åœ–è¡¨æ¨™è¨˜æ ¼å¼è¦ç¯„

#### åŸºæœ¬æ ¼å¼

```markdown
:::chart
{
  "type": "line",
  "title": "åœ–è¡¨æ¨™é¡Œ",
  "labels": ["æ¨™ç±¤1", "æ¨™ç±¤2", "æ¨™ç±¤3"],
  "datasets": [
    {
      "label": "æ•¸æ“šç³»åˆ—1",
      "data": [10, 20, 30],
      "color": "#52c41a"
    }
  ]
}
:::
```

#### å®Œæ•´æ ¼å¼ï¼ˆå«æ‰€æœ‰å¯é¸åƒæ•¸ï¼‰

```markdown
:::chart
{
  "type": "line|bar|pie|doughnut",
  "title": "åœ–è¡¨æ¨™é¡Œ",
  "height": 300,
  "labels": ["æ¨™ç±¤1", "æ¨™ç±¤2", "æ¨™ç±¤3"],
  "datasets": [
    {
      "label": "æ•¸æ“šç³»åˆ—åç¨±",
      "data": [æ•¸å€¼1, æ•¸å€¼2, æ•¸å€¼3],
      "color": "#ä¸»è‰²èª¿",
      "backgroundColor": "#èƒŒæ™¯è‰²ï¼ˆå¯é¸ï¼‰",
      "borderWidth": 2,
      "fill": false
    }
  ],
  "options": {
    "showLegend": true,
    "legendPosition": "bottom",
    "stacked": false,
    "beginAtZero": true,
    "responsive": true
  }
}
:::
```

### 4.2 æ”¯æ´çš„åœ–è¡¨é¡å‹

#### 4.2.1 æ›²ç·šåœ–ï¼ˆLine Chartï¼‰

**ç”¨é€”**ï¼šè¶¨å‹¢åˆ†æã€ç‰ˆæœ¬æ¼”é€²ã€æ™‚é–“åºåˆ—

```markdown
:::chart
{
  "type": "line",
  "title": "Pass/Fail è¶¨å‹¢",
  "labels": ["V1", "V2", "V3", "V4"],
  "datasets": [
    {
      "label": "Pass",
      "data": [100, 120, 135, 150],
      "color": "#52c41a"
    },
    {
      "label": "Fail",
      "data": [20, 15, 12, 10],
      "color": "#ff4d4f"
    }
  ]
}
:::
```

**è¦–è¦ºæ•ˆæœ**ï¼š
```
  Pass/Fail è¶¨å‹¢
  
  150 â”¤              â•­â”€â”€â”€â”€â”€â”€â—
  125 â”¤        â•­â”€â”€â”€â”€â”€â•¯
  100 â”¤â”€â”€â”€â”€â”€â”€â”€â”€â•¯
   75 â”¤
   50 â”¤
   25 â”¤â”€â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬
          V1   V2   V3   V4
          
  â— Pass  â—‹ Fail
```

#### 4.2.2 é•·æ¢åœ–ï¼ˆBar Chartï¼‰

**ç”¨é€”**ï¼šé¡åˆ¥æ¯”è¼ƒã€æ•¸é‡çµ±è¨ˆ

```markdown
:::chart
{
  "type": "bar",
  "title": "å„é¡åˆ¥æ¸¬è©¦çµæœ",
  "labels": ["Compliance", "Performance", "Functionality", "Security"],
  "datasets": [
    {
      "label": "Pass",
      "data": [45, 30, 55, 20],
      "color": "#52c41a"
    },
    {
      "label": "Fail",
      "data": [5, 10, 5, 3],
      "color": "#ff4d4f"
    }
  ]
}
:::
```

**è¦–è¦ºæ•ˆæœ**ï¼š
```
  å„é¡åˆ¥æ¸¬è©¦çµæœ
  
  60 â”¤  â–ˆâ–ˆ
  50 â”¤  â–ˆâ–ˆ      â–ˆâ–ˆ
  40 â”¤  â–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ
  30 â”¤  â–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ
  20 â”¤  â–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆâ–ˆ
  10 â”¤  â–‘â–‘  â–‘â–‘  â–‘â–‘  â–‘â–‘
     â””â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€
       Comp Perf Func Sec
       
  â–ˆâ–ˆ Pass  â–‘â–‘ Fail
```

#### 4.2.3 åœ“é¤…åœ–ï¼ˆPie Chartï¼‰

**ç”¨é€”**ï¼šæ¯”ä¾‹åˆ†å¸ƒã€ä½”æ¯”åˆ†æ

```markdown
:::chart
{
  "type": "pie",
  "title": "æ¸¬è©¦çµæœåˆ†å¸ƒ",
  "labels": ["Pass", "Fail", "Not Run"],
  "datasets": [
    {
      "data": [150, 30, 20],
      "colors": ["#52c41a", "#ff4d4f", "#faad14"]
    }
  ]
}
:::
```

**è¦–è¦ºæ•ˆæœ**ï¼š
```
     æ¸¬è©¦çµæœåˆ†å¸ƒ
     
        â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
       â•±  Pass     â•²
      â”‚   75%      â”‚
      â”‚            â”‚
       â•²  Fail 15% â•±
        â•°â”€Not Runâ”€â”€â•¯
            10%
```

#### 4.2.4 ç’°å½¢åœ–ï¼ˆDoughnut Chartï¼‰

**ç”¨é€”**ï¼šé¡ä¼¼åœ“é¤…åœ–ï¼Œè¦–è¦ºæ›´ç¾ä»£

```markdown
:::chart
{
  "type": "doughnut",
  "title": "å®Œæˆç‡",
  "labels": ["å·²å®Œæˆ", "é€²è¡Œä¸­", "æœªé–‹å§‹"],
  "datasets": [
    {
      "data": [60, 25, 15],
      "colors": ["#52c41a", "#1890ff", "#d9d9d9"]
    }
  ]
}
:::
```

### 4.3 å‰ç«¯çµ„ä»¶è¨­è¨ˆ

#### çµ„ä»¶æ¶æ§‹

```
frontend/src/components/chat/
â”œâ”€â”€ MessageList.jsx           # è¨Šæ¯åˆ—è¡¨ï¼ˆç¾æœ‰ï¼Œä¸ä¿®æ”¹ï¼‰
â”œâ”€â”€ ChatMessage.jsx           # å–®å‰‡è¨Šæ¯ï¼ˆç¾æœ‰ï¼Œä¸ä¿®æ”¹ï¼‰
â”œâ”€â”€ MarkdownRenderer.jsx      # Markdown æ¸²æŸ“å™¨ï¼ˆä¿®æ”¹ï¼‰
â””â”€â”€ charts/                   # æ–°å¢ï¼šåœ–è¡¨çµ„ä»¶ç›®éŒ„
    â”œâ”€â”€ index.js              # çµ±ä¸€å°å‡º
    â”œâ”€â”€ ChartRenderer.jsx     # åœ–è¡¨è§£æå’Œæ¸²æŸ“å…¥å£
    â”œâ”€â”€ ChartContainer.jsx    # åœ–è¡¨å®¹å™¨ï¼ˆæ¨£å¼ã€æ¨™é¡Œï¼‰
    â”œâ”€â”€ LineChart.jsx         # æ›²ç·šåœ–
    â”œâ”€â”€ BarChart.jsx          # é•·æ¢åœ–
    â”œâ”€â”€ PieChart.jsx          # åœ“é¤…åœ–/ç’°å½¢åœ–
    â””â”€â”€ chartConfig.js        # åœ–è¡¨é…ç½®ï¼ˆé¡è‰²ã€æ¨£å¼ï¼‰
```

#### ChartRenderer çµ„ä»¶é‚è¼¯

```jsx
// ChartRenderer.jsx è™›æ“¬ç¢¼
import { Line, Bar, Pie, Doughnut } from 'react-chartjs-2';

const ChartRenderer = ({ chartData }) => {
  // è§£æ JSON è³‡æ–™
  const { type, title, labels, datasets, options } = chartData;
  
  // è½‰æ›ç‚º Chart.js æ ¼å¼
  const data = {
    labels,
    datasets: datasets.map(ds => ({
      label: ds.label,
      data: ds.data,
      borderColor: ds.color,
      backgroundColor: ds.backgroundColor || ds.color,
      // ... å…¶ä»–é…ç½®
    }))
  };
  
  // æ ¹æ“šé¡å‹æ¸²æŸ“å°æ‡‰åœ–è¡¨
  switch (type) {
    case 'line':
      return <Line data={data} options={chartOptions} />;
    case 'bar':
      return <Bar data={data} options={chartOptions} />;
    case 'pie':
      return <Pie data={data} options={chartOptions} />;
    case 'doughnut':
      return <Doughnut data={data} options={chartOptions} />;
    default:
      return <div>ä¸æ”¯æ´çš„åœ–è¡¨é¡å‹: {type}</div>;
  }
};
```

#### MarkdownRenderer ä¿®æ”¹é‚è¼¯

```jsx
// MarkdownRenderer.jsx è™›æ“¬ç¢¼
const MarkdownRenderer = ({ content }) => {
  // ä½¿ç”¨æ­£å‰‡è¡¨é”å¼åˆ†å‰²å…§å®¹
  const CHART_REGEX = /:::chart\n([\s\S]*?)\n:::/g;
  
  const parts = [];
  let lastIndex = 0;
  let match;
  
  while ((match = CHART_REGEX.exec(content)) !== null) {
    // æ·»åŠ åœ–è¡¨å‰çš„æ™®é€š Markdown
    if (match.index > lastIndex) {
      parts.push({
        type: 'markdown',
        content: content.slice(lastIndex, match.index)
      });
    }
    
    // æ·»åŠ åœ–è¡¨
    try {
      const chartData = JSON.parse(match[1]);
      parts.push({
        type: 'chart',
        data: chartData
      });
    } catch (e) {
      // JSON è§£æå¤±æ•—ï¼Œé¡¯ç¤ºéŒ¯èª¤
      parts.push({
        type: 'error',
        content: 'åœ–è¡¨è³‡æ–™æ ¼å¼éŒ¯èª¤'
      });
    }
    
    lastIndex = match.index + match[0].length;
  }
  
  // æ·»åŠ å‰©é¤˜çš„æ™®é€š Markdown
  if (lastIndex < content.length) {
    parts.push({
      type: 'markdown',
      content: content.slice(lastIndex)
    });
  }
  
  // æ¸²æŸ“å„éƒ¨åˆ†
  return (
    <div className="markdown-content">
      {parts.map((part, index) => {
        if (part.type === 'markdown') {
          return <ReactMarkdown key={index}>{part.content}</ReactMarkdown>;
        } else if (part.type === 'chart') {
          return <ChartRenderer key={index} chartData={part.data} />;
        } else {
          return <div key={index} className="error">{part.content}</div>;
        }
      })}
    </div>
  );
};
```

### 4.4 å¾Œç«¯æ•´åˆè¨­è¨ˆ

#### é€šç”¨åœ–è¡¨æ ¼å¼åŒ–å·¥å…·

```python
# library/common/chart_formatter.py

class ChartFormatter:
    """åœ–è¡¨æ ¼å¼åŒ–å·¥å…·"""
    
    @staticmethod
    def format_line_chart(title: str, labels: list, datasets: list) -> str:
        """
        ç”Ÿæˆæ›²ç·šåœ–çš„ Markdown æ¨™è¨˜
        
        Args:
            title: åœ–è¡¨æ¨™é¡Œ
            labels: X è»¸æ¨™ç±¤åˆ—è¡¨
            datasets: æ•¸æ“šç³»åˆ—åˆ—è¡¨ï¼Œæ¯å€‹åŒ…å« label, data, color
            
        Returns:
            str: :::chart ... ::: æ ¼å¼çš„ Markdown
        """
        chart_data = {
            "type": "line",
            "title": title,
            "labels": labels,
            "datasets": datasets
        }
        return f":::chart\n{json.dumps(chart_data, ensure_ascii=False, indent=2)}\n:::"
    
    @staticmethod
    def format_bar_chart(title: str, labels: list, datasets: list) -> str:
        """ç”Ÿæˆé•·æ¢åœ–çš„ Markdown æ¨™è¨˜"""
        chart_data = {
            "type": "bar",
            "title": title,
            "labels": labels,
            "datasets": datasets
        }
        return f":::chart\n{json.dumps(chart_data, ensure_ascii=False, indent=2)}\n:::"
    
    @staticmethod
    def format_pie_chart(title: str, labels: list, data: list, colors: list) -> str:
        """ç”Ÿæˆåœ“é¤…åœ–çš„ Markdown æ¨™è¨˜"""
        chart_data = {
            "type": "pie",
            "title": title,
            "labels": labels,
            "datasets": [{
                "data": data,
                "colors": colors
            }]
        }
        return f":::chart\n{json.dumps(chart_data, ensure_ascii=False, indent=2)}\n:::"
```

#### Handler æ•´åˆç¯„ä¾‹

```python
# compare_multiple_fw_handler.py ä¿®æ”¹

from library.common.chart_formatter import ChartFormatter

def _format_response(self, project_name, versions_data, trends, ...):
    # ... ç¾æœ‰çš„è¡¨æ ¼ç”Ÿæˆé‚è¼¯ ...
    
    # ç”Ÿæˆåœ–è¡¨æ¨™è¨˜
    version_names = [v['fw_version'] for v in versions_data]
    pass_data = [v.get('pass', 0) for v in versions_data]
    fail_data = [v.get('fail', 0) for v in versions_data]
    
    chart_markdown = ChartFormatter.format_line_chart(
        title=f"{project_name} Pass/Fail è¶¨å‹¢",
        labels=version_names,
        datasets=[
            {"label": "Pass", "data": pass_data, "color": "#52c41a"},
            {"label": "Fail", "data": fail_data, "color": "#ff4d4f"}
        ]
    )
    
    # åœ¨æ¨™é¡Œå¾Œæ’å…¥åœ–è¡¨
    lines = [
        f"## ğŸ“Š {project_name} å¤šç‰ˆæœ¬è¶¨å‹¢æ¯”è¼ƒ",
        "",
        f"æ¯”è¼ƒç‰ˆæœ¬ï¼š**{'** â†’ **'.join(version_names)}**",
        "",
        chart_markdown,  # æ’å…¥åœ–è¡¨
        "",
        "### ğŸ“‹ è©³ç´°æ•¸æ“š",
        # ... è¡¨æ ¼ ...
    ]
    
    return "\n".join(lines)
```

### 4.5 æ¨£å¼è¨­è¨ˆ

#### é…è‰²æ–¹æ¡ˆï¼ˆèˆ‡ Ant Design ä¸€è‡´ï¼‰

| ç”¨é€” | é¡è‰²ä»£ç¢¼ | é è¦½ |
|------|----------|------|
| Pass / æˆåŠŸ | `#52c41a` | ğŸŸ¢ |
| Fail / å¤±æ•— | `#ff4d4f` | ğŸ”´ |
| Warning / è­¦å‘Š | `#faad14` | ğŸŸ¡ |
| Info / è³‡è¨Š | `#1890ff` | ğŸ”µ |
| æœªåŸ·è¡Œ | `#d9d9d9` | âšª |
| èƒŒæ™¯ | `#fafafa` | |
| é‚Šæ¡† | `#d9d9d9` | |

#### åœ–è¡¨å®¹å™¨æ¨£å¼

```css
/* chartStyles.css */

.chart-container {
  background: #ffffff;
  border: 1px solid #f0f0f0;
  border-radius: 8px;
  padding: 16px;
  margin: 16px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.chart-title {
  font-size: 14px;
  font-weight: 500;
  color: #262626;
  margin-bottom: 12px;
  text-align: center;
}

.chart-canvas {
  max-height: 300px;
}

/* éŸ¿æ‡‰å¼ */
@media (max-width: 768px) {
  .chart-container {
    padding: 12px;
    margin: 12px 0;
  }
  
  .chart-canvas {
    max-height: 200px;
  }
}
```

---

## 5. å¯¦ä½œè¨ˆç•«

### 5.1 é–‹ç™¼éšæ®µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        é–‹ç™¼æ™‚ç¨‹                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Week 1
â”œâ”€â”€ Phase 1: åŸºç¤è¨­æ–½ï¼ˆ2-3 å°æ™‚ï¼‰
â”‚   â”œâ”€â”€ å®‰è£ Chart.js ä¾è³´
â”‚   â”œâ”€â”€ å‰µå»ºåœ–è¡¨çµ„ä»¶ç›®éŒ„çµæ§‹
â”‚   â””â”€â”€ å¯¦ä½œ MarkdownRenderer è§£æé‚è¼¯
â”‚
â”œâ”€â”€ Phase 2: åœ–è¡¨çµ„ä»¶ï¼ˆ2 å°æ™‚ï¼‰
â”‚   â”œâ”€â”€ å¯¦ä½œ ChartRenderer å…¥å£çµ„ä»¶
â”‚   â”œâ”€â”€ å¯¦ä½œ LineChart çµ„ä»¶
â”‚   â”œâ”€â”€ å¯¦ä½œ BarChart çµ„ä»¶
â”‚   â””â”€â”€ å¯¦ä½œ PieChart çµ„ä»¶
â”‚
â”œâ”€â”€ Phase 3: å¾Œç«¯æ•´åˆï¼ˆ1-2 å°æ™‚ï¼‰
â”‚   â”œâ”€â”€ å‰µå»º ChartFormatter å·¥å…·
â”‚   â”œâ”€â”€ ä¿®æ”¹ compare_multiple_fw_handler
â”‚   â””â”€â”€ æ¸¬è©¦ SAF Assistant åœ–è¡¨é¡¯ç¤º
â”‚
â””â”€â”€ Phase 4: æ¸¬è©¦èˆ‡å„ªåŒ–ï¼ˆ1 å°æ™‚ï¼‰
    â”œâ”€â”€ è·¨ç€è¦½å™¨æ¸¬è©¦
    â”œâ”€â”€ éŸ¿æ‡‰å¼æ¸¬è©¦
    â””â”€â”€ æ•ˆèƒ½å„ªåŒ–

é ä¼°ç¸½æ™‚ç¨‹ï¼š6-8 å°æ™‚
```

### 5.2 è©³ç´°ä»»å‹™æ¸…å–®

#### Phase 1: åŸºç¤è¨­æ–½

| ä»»å‹™ | å„ªå…ˆç´š | é ä¼°æ™‚é–“ | ç‹€æ…‹ |
|------|--------|----------|------|
| å®‰è£ chart.js, react-chartjs-2 | P0 | 10 åˆ†é˜ | â¬œ |
| å‰µå»º `components/chat/charts/` ç›®éŒ„ | P0 | 5 åˆ†é˜ | â¬œ |
| å¯¦ä½œ MarkdownRenderer è§£æ `:::chart` | P0 | 1 å°æ™‚ | â¬œ |
| å‰µå»º chartConfig.jsï¼ˆé¡è‰²ã€æ¨£å¼é…ç½®ï¼‰ | P1 | 30 åˆ†é˜ | â¬œ |
| å‰µå»º chartStyles.css | P1 | 30 åˆ†é˜ | â¬œ |

#### Phase 2: åœ–è¡¨çµ„ä»¶

| ä»»å‹™ | å„ªå…ˆç´š | é ä¼°æ™‚é–“ | ç‹€æ…‹ |
|------|--------|----------|------|
| å¯¦ä½œ ChartRenderer.jsx | P0 | 30 åˆ†é˜ | â¬œ |
| å¯¦ä½œ ChartContainer.jsx | P0 | 20 åˆ†é˜ | â¬œ |
| å¯¦ä½œ LineChart.jsx | P0 | 30 åˆ†é˜ | â¬œ |
| å¯¦ä½œ BarChart.jsx | P1 | 20 åˆ†é˜ | â¬œ |
| å¯¦ä½œ PieChart.jsx | P1 | 20 åˆ†é˜ | â¬œ |
| å‰µå»º index.js çµ±ä¸€å°å‡º | P0 | 5 åˆ†é˜ | â¬œ |

#### Phase 3: å¾Œç«¯æ•´åˆ

| ä»»å‹™ | å„ªå…ˆç´š | é ä¼°æ™‚é–“ | ç‹€æ…‹ |
|------|--------|----------|------|
| å‰µå»º `library/common/chart_formatter.py` | P0 | 30 åˆ†é˜ | â¬œ |
| ä¿®æ”¹ `compare_multiple_fw_handler.py` | P0 | 30 åˆ†é˜ | â¬œ |
| æ¸¬è©¦å®Œæ•´æµç¨‹ | P0 | 30 åˆ†é˜ | â¬œ |

#### Phase 4: æ¸¬è©¦èˆ‡å„ªåŒ–

| ä»»å‹™ | å„ªå…ˆç´š | é ä¼°æ™‚é–“ | ç‹€æ…‹ |
|------|--------|----------|------|
| Chrome æ¸¬è©¦ | P0 | 10 åˆ†é˜ | â¬œ |
| Firefox æ¸¬è©¦ | P1 | 10 åˆ†é˜ | â¬œ |
| æ‰‹æ©ŸéŸ¿æ‡‰å¼æ¸¬è©¦ | P1 | 15 åˆ†é˜ | â¬œ |
| æ•ˆèƒ½æª¢æŸ¥ | P2 | 15 åˆ†é˜ | â¬œ |
| æ–‡æª”æ›´æ–° | P2 | 15 åˆ†é˜ | â¬œ |

---

## 6. æª”æ¡ˆè®Šæ›´æ¸…å–®

### 6.1 æ–°å¢æª”æ¡ˆ

| æª”æ¡ˆè·¯å¾‘ | èªªæ˜ |
|----------|------|
| `frontend/src/components/chat/charts/index.js` | åœ–è¡¨çµ„ä»¶çµ±ä¸€å°å‡º |
| `frontend/src/components/chat/charts/ChartRenderer.jsx` | åœ–è¡¨è§£æå’Œæ¸²æŸ“å…¥å£ |
| `frontend/src/components/chat/charts/ChartContainer.jsx` | åœ–è¡¨å®¹å™¨çµ„ä»¶ |
| `frontend/src/components/chat/charts/LineChart.jsx` | æ›²ç·šåœ–çµ„ä»¶ |
| `frontend/src/components/chat/charts/BarChart.jsx` | é•·æ¢åœ–çµ„ä»¶ |
| `frontend/src/components/chat/charts/PieChart.jsx` | åœ“é¤…åœ–çµ„ä»¶ |
| `frontend/src/components/chat/charts/chartConfig.js` | åœ–è¡¨é…ç½® |
| `frontend/src/components/chat/charts/chartStyles.css` | åœ–è¡¨æ¨£å¼ |
| `backend/library/common/chart_formatter.py` | åœ–è¡¨æ ¼å¼åŒ–å·¥å…· |

### 6.2 ä¿®æ”¹æª”æ¡ˆ

| æª”æ¡ˆè·¯å¾‘ | ä¿®æ”¹å…§å®¹ |
|----------|----------|
| `frontend/package.json` | æ·»åŠ  chart.js, react-chartjs-2 ä¾è³´ |
| `frontend/src/components/chat/MarkdownRenderer.jsx` | æ·»åŠ  `:::chart` è§£æé‚è¼¯ |
| `backend/library/saf_integration/smart_query/query_handlers/compare_multiple_fw_handler.py` | æ•´åˆåœ–è¡¨æ¨™è¨˜ç”Ÿæˆ |

### 6.3 æª”æ¡ˆçµæ§‹é è¦½

```
frontend/src/components/chat/
â”œâ”€â”€ MessageList.jsx              # ä¸ä¿®æ”¹
â”œâ”€â”€ ChatMessage.jsx              # ä¸ä¿®æ”¹
â”œâ”€â”€ MarkdownRenderer.jsx         # ä¿®æ”¹ï¼šæ·»åŠ åœ–è¡¨è§£æ
â””â”€â”€ charts/                      # æ–°å¢ç›®éŒ„
    â”œâ”€â”€ index.js                 # æ–°å¢
    â”œâ”€â”€ ChartRenderer.jsx        # æ–°å¢
    â”œâ”€â”€ ChartContainer.jsx       # æ–°å¢
    â”œâ”€â”€ LineChart.jsx            # æ–°å¢
    â”œâ”€â”€ BarChart.jsx             # æ–°å¢
    â”œâ”€â”€ PieChart.jsx             # æ–°å¢
    â”œâ”€â”€ chartConfig.js           # æ–°å¢
    â””â”€â”€ chartStyles.css          # æ–°å¢

backend/library/
â”œâ”€â”€ common/
â”‚   â””â”€â”€ chart_formatter.py       # æ–°å¢
â””â”€â”€ saf_integration/
    â””â”€â”€ smart_query/
        â””â”€â”€ query_handlers/
            â””â”€â”€ compare_multiple_fw_handler.py  # ä¿®æ”¹
```

---

## 7. æ¸¬è©¦è¨ˆç•«

### 7.1 å–®å…ƒæ¸¬è©¦

| æ¸¬è©¦é …ç›® | æ¸¬è©¦å…§å®¹ |
|----------|----------|
| ChartFormatter | å„é¡å‹åœ–è¡¨çš„ JSON æ ¼å¼æ­£ç¢ºæ€§ |
| MarkdownRenderer | `:::chart` æ¨™è¨˜è§£ææ­£ç¢ºæ€§ |
| ChartRenderer | å„é¡å‹åœ–è¡¨æ¸²æŸ“æ­£ç¢ºæ€§ |

### 7.2 æ•´åˆæ¸¬è©¦

| æ¸¬è©¦å ´æ™¯ | é æœŸçµæœ |
|----------|----------|
| SAF å¤šç‰ˆæœ¬è¶¨å‹¢æ¯”è¼ƒ | é¡¯ç¤º Pass/Fail æ›²ç·šåœ– + è¡¨æ ¼ |
| åªæœ‰ Markdownï¼ˆç„¡åœ–è¡¨ï¼‰ | æ­£å¸¸é¡¯ç¤ºï¼Œç„¡éŒ¯èª¤ |
| åœ–è¡¨ JSON æ ¼å¼éŒ¯èª¤ | é¡¯ç¤ºéŒ¯èª¤æç¤ºï¼Œä¸å´©æ½° |
| å¤šå€‹åœ–è¡¨ | ä¾åºæ­£ç¢ºé¡¯ç¤º |

### 7.3 ç›¸å®¹æ€§æ¸¬è©¦

| ç€è¦½å™¨ | ç‰ˆæœ¬ | ç‹€æ…‹ |
|--------|------|------|
| Chrome | æœ€æ–°ç‰ˆ | â¬œ |
| Firefox | æœ€æ–°ç‰ˆ | â¬œ |
| Safari | æœ€æ–°ç‰ˆ | â¬œ |
| Edge | æœ€æ–°ç‰ˆ | â¬œ |

### 7.4 éŸ¿æ‡‰å¼æ¸¬è©¦

| è¨­å‚™ | è¢å¹•å¯¬åº¦ | åœ–è¡¨é«˜åº¦ | ç‹€æ…‹ |
|------|----------|----------|------|
| æ¡Œé¢ | > 1024px | 300px | â¬œ |
| å¹³æ¿ | 768-1024px | 250px | â¬œ |
| æ‰‹æ©Ÿ | < 768px | 200px | â¬œ |

---

## 8. é¢¨éšªè©•ä¼°

### 8.1 æŠ€è¡“é¢¨éšª

| é¢¨éšª | å¯èƒ½æ€§ | å½±éŸ¿ | ç·©è§£æªæ–½ |
|------|--------|------|----------|
| Chart.js èˆ‡ç¾æœ‰æ¨£å¼è¡çª | ä½ | ä¸­ | ä½¿ç”¨ CSS éš”é›¢ï¼ŒåŠ ä¸Š prefix |
| å¤§é‡æ•¸æ“šé»æ•ˆèƒ½å•é¡Œ | ä¸­ | ä¸­ | å¯¦ä½œé™æ¡æ¨£ï¼Œé™åˆ¶æœ€å¤§é»æ•¸ |
| JSON è§£æå¤±æ•— | ä½ | ä½ | å®Œå–„éŒ¯èª¤è™•ç†ï¼Œé¡¯ç¤ºå‹å–„è¨Šæ¯ |
| èˆŠç‰ˆç€è¦½å™¨ä¸æ”¯æ´ | ä½ | ä½ | Chart.js æœ‰è‰¯å¥½çš„ polyfill |

### 8.2 ç›¸å®¹æ€§é¢¨éšª

| é¢¨éšª | å¯èƒ½æ€§ | å½±éŸ¿ | ç·©è§£æªæ–½ |
|------|--------|------|----------|
| èˆŠç‰ˆå‰ç«¯é¡¯ç¤ºåŸå§‹ JSON | ä¸­ | ä½ | é€™æ˜¯é æœŸè¡Œç‚ºï¼Œä¸å½±éŸ¿åŠŸèƒ½ |
| Protocol/RVT Assistant æ•´åˆå•é¡Œ | ä½ | ä½ | ä½¿ç”¨ç›¸åŒçš„çµ„ä»¶å’Œæ ¼å¼ |

### 8.3 æ™‚ç¨‹é¢¨éšª

| é¢¨éšª | å¯èƒ½æ€§ | å½±éŸ¿ | ç·©è§£æªæ–½ |
|------|--------|------|----------|
| é–‹ç™¼æ™‚é–“è¶…å‡ºé ä¼° | ä¸­ | ä¸­ | å„ªå…ˆå¯¦ä½œæ ¸å¿ƒåŠŸèƒ½ï¼ˆLineChartï¼‰ |
| éœ€æ±‚è®Šæ›´ | ä½ | ä¸­ | æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œæ˜“æ–¼æ“´å±• |

---

## 9. é™„éŒ„

### 9.1 SAF Assistant åœ–è¡¨ä½¿ç”¨å ´æ™¯

| æŸ¥è©¢é¡å‹ | Intent | åœ–è¡¨é¡å‹ | è³‡æ–™å…§å®¹ |
|----------|--------|----------|----------|
| å¤šç‰ˆæœ¬è¶¨å‹¢æ¯”è¼ƒ | `compare_multiple_fw` | Line | Pass/Fail éš¨ç‰ˆæœ¬è®ŠåŒ– |
| å–®ç‰ˆæœ¬æ¸¬è©¦çµæœ | `query_project_test_summary_by_fw` | Pie | Pass/Fail/Not Run æ¯”ä¾‹ |
| é¡åˆ¥æ¸¬è©¦æ¯”è¼ƒ | `query_project_test_by_category` | Bar | å„é¡åˆ¥ Pass/Fail æ•¸é‡ |
| ç‰ˆæœ¬é€²åº¦å°æ¯” | `compare_fw_versions` | Bar | å…©ç‰ˆæœ¬å®Œæˆç‡å°æ¯” |

### 9.2 æœªä¾†æ“´å±•

| åŠŸèƒ½ | èªªæ˜ | å„ªå…ˆç´š |
|------|------|--------|
| åœ–è¡¨ä¸‹è¼‰ | ä¸‹è¼‰ç‚º PNG/SVG | P2 |
| åœ–è¡¨ç¸®æ”¾ | é›™æŒ‡ç¸®æ”¾ã€æ‹–æ›³ | P3 |
| å‹•æ…‹æ›´æ–° | å³æ™‚è³‡æ–™æ›´æ–° | P3 |
| æ›´å¤šåœ–è¡¨é¡å‹ | é›·é”åœ–ã€ç†±åŠ›åœ– | P3 |
| åœ–è¡¨ä¸»é¡Œ | æ·±è‰²æ¨¡å¼æ”¯æ´ | P3 |

### 9.3 åƒè€ƒè³‡æº

- [Chart.js å®˜æ–¹æ–‡æª”](https://www.chartjs.org/docs/)
- [react-chartjs-2 GitHub](https://github.com/reactchartjs/react-chartjs-2)
- [Ant Design è‰²å½©è¦ç¯„](https://ant.design/docs/spec/colors)

---

## ğŸ“ è®Šæ›´ç´€éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ | ä½œè€… |
|------|------|----------|------|
| v1.0 | 2024-12-08 | åˆå§‹ç‰ˆæœ¬ | AI Platform Team |

---

**æ–‡æª”çµæŸ**
