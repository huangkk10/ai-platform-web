# Dify Benchmark v1.2.1 å‰ç«¯åŠŸèƒ½æ¸¬è©¦æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

**æ¸¬è©¦ç›®æ¨™**: é©—è­‰ Task 9 å’Œ Task 10 çš„å‰ç«¯ UI åŠŸèƒ½
- **Task 9**: ç‰ˆæœ¬ç®¡ç†é é¢çš„ Baseline é¡¯ç¤ºå’Œåˆ‡æ›åŠŸèƒ½
- **Task 10**: èŠå¤©é é¢çš„ Baseline è³‡è¨Šé¡¯ç¤º

**æ¸¬è©¦æ™‚é–“**: 2025-01-20  
**æ¸¬è©¦ç’°å¢ƒ**: AI Platform Web (http://10.10.172.127)

---

## ğŸ¯ æ¸¬è©¦ç¯„åœ

### Task 9: ç‰ˆæœ¬ç®¡ç†é é¢åŠŸèƒ½
**é é¢è·¯å¾‘**: `/dify-benchmark/versions`

#### åŠŸèƒ½æª¢æŸ¥é …ç›®
1. âœ… **Baseline è³‡è¨Šæ‘˜è¦å¡ç‰‡**
   - ä½ç½®: é é¢é ‚éƒ¨ï¼ˆç¯©é¸å™¨ä¸Šæ–¹ï¼‰
   - èƒŒæ™¯è‰²: é‡‘è‰² (#fffbf0)
   - é‚Šæ¡†: é‡‘è‰² (#faad14)
   - å…§å®¹: â­ æ˜Ÿè™Ÿåœ–ç¤º + Baseline ç‰ˆæœ¬åç¨±
   - å‹•æ…‹æ¨™ç±¤: å¦‚æœ Baseline æ˜¯å‹•æ…‹ç‰ˆæœ¬ï¼Œé¡¯ç¤º ğŸ”„ æ©˜è‰²æ—‹è½‰åœ–ç¤º + "å‹•æ…‹ Threshold"
   - ä½¿ç”¨èªªæ˜: "åƒ…ç”¨æ–¼ Benchmark æ¸¬è©¦" å’Œ "ä¸å½±éŸ¿ Chat"

2. âœ… **ç‰ˆæœ¬åˆ—è¡¨å‹•æ…‹æ¨™ç±¤**
   - ä½ç½®: ç‰ˆæœ¬åç¨±æ¬„ä½
   - å‹•æ…‹ç‰ˆæœ¬æ¨™è¨˜: ğŸ”„ æ©˜è‰²æ—‹è½‰åœ–ç¤º + "å‹•æ…‹ Threshold" æ¨™ç±¤
   - æ¢ä»¶: ç•¶ `rag_settings.stage1.use_dynamic_threshold` æˆ– `stage2.use_dynamic_threshold` ç‚º true

3. âœ… **è¨­ç‚º Baseline ç¢ºèªå°è©±æ¡†**
   - è§¸ç™¼: é»æ“Šç‰ˆæœ¬åˆ—è¡¨çš„ "è¨­ç‚º Baseline" æŒ‰éˆ•
   - å°è©±æ¡†æ¨™é¡Œ: "ç¢ºèªè¨­å®š Baseline"
   - å°è©±æ¡†å¯¬åº¦: 520px
   - ç‰ˆæœ¬è³‡è¨Š: é¡¯ç¤ºç‰ˆæœ¬åç¨±å’Œæè¿°
   - å‹•æ…‹ç‰ˆæœ¬è­¦å‘Š:
     - èƒŒæ™¯è‰²: æ©˜è‰² (#fff7e6)
     - é‚Šæ¡†: æ©˜è‰² (#fa8c16)
     - åœ–ç¤º: âš ï¸ ExclamationCircleOutlined
     - æ–‡å­—: "æ­¤ç‰ˆæœ¬ä½¿ç”¨å‹•æ…‹ Threshold..."
     - èªªæ˜: Threshold å€¼å¾è³‡æ–™åº«è®€å–ï¼Œä¿®æ”¹å³æ™‚ç”Ÿæ•ˆ
   - æŒ‰éˆ•: "å–æ¶ˆ" (grey) / "ç¢ºèª" (primary blue)

### Task 10: èŠå¤©é é¢ Baseline é¡¯ç¤º
**é é¢è·¯å¾‘**: `/protocol-assistant`

#### åŠŸèƒ½æª¢æŸ¥é …ç›®
1. âœ… **é ‚éƒ¨ Baseline è³‡è¨Š Alert**
   - ä½ç½®: å›ºå®šæ–¼é ‚éƒ¨ (top: 64pxï¼Œå°èˆªæ¬„ä¸‹æ–¹)
   - z-index: 999 (ä¿æŒåœ¨æœ€ä¸Šå±¤)
   - éŸ¿æ‡‰å¼å®šä½:
     - Sidebar å±•é–‹æ™‚: left: 300px
     - Sidebar æ”¶åˆæ™‚: left: 80px
   - Alert é¡å‹: "info" (è—è‰²é‚Šæ¡†)
   - åœ–ç¤º: closable (å¯é—œé–‰)
   
2. âœ… **Baseline è³‡è¨Šå…§å®¹**
   - Message å€åŸŸ:
     - â­ æ˜Ÿè™Ÿåœ–ç¤º (é‡‘è‰²)
     - "ç•¶å‰ Baseline: {version_name}"
     - å‹•æ…‹æ¨™ç±¤ï¼ˆå¦‚é©ç”¨ï¼‰: ğŸ”„ æ©˜è‰²æ—‹è½‰åœ–ç¤º + "å‹•æ…‹ Threshold"
   - Description å€åŸŸ:
     - "æ­¤é…ç½®åƒ…ç”¨æ–¼ Benchmark æ¸¬è©¦ã€‚"
     - "Chat åŠŸèƒ½çš„æª¢ç´¢åƒæ•¸åœ¨ Dify å·¥ä½œå®¤ä¸­é…ç½®ã€‚"

3. âœ… **å¸ƒå±€èª¿æ•´**
   - èŠå¤©å®¹å™¨: ç•¶ Baseline Alert é¡¯ç¤ºæ™‚ï¼ŒpaddingTop: 88px
   - ç•¶ Alert è¢«é—œé–‰: paddingTop: 16px (æ¢å¾©é è¨­)
   - ç¢ºä¿èŠå¤©è¨Šæ¯ä¸è¢« Alert é®æ“‹

---

## ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ

### å‰ç½®æº–å‚™
```bash
# 1. ç¢ºèªå‰ç«¯å®¹å™¨é‹è¡Œ
docker compose ps | grep ai-react

# 2. ç¢ºèªå¾Œç«¯å®¹å™¨é‹è¡Œ
docker compose ps | grep ai-django

# 3. ç¢ºèªè³‡æ–™åº«æœ‰ v1.2.1 ç‰ˆæœ¬
docker exec postgres_db psql -U postgres -d ai_platform -c \
  "SELECT version_name, is_baseline FROM dify_config_versions WHERE version_name LIKE '%1.2.1%';"
```

### Step 1: æ¸¬è©¦ç‰ˆæœ¬ç®¡ç†é é¢ï¼ˆTask 9ï¼‰

#### 1.1 é€²å…¥é é¢
1. æ‰“é–‹ç€è¦½å™¨è¨ªå•: http://10.10.172.127
2. ç™»å…¥ç³»çµ±
3. å°èˆªåˆ°: **Dify Benchmark > Version Management**
4. URL æ‡‰ç‚º: `/dify-benchmark/versions`

#### 1.2 æª¢æŸ¥ Baseline æ‘˜è¦å¡ç‰‡
- [ ] ç¢ºèªé é¢é ‚éƒ¨é¡¯ç¤ºé‡‘è‰²èƒŒæ™¯çš„å¡ç‰‡
- [ ] ç¢ºèªå¡ç‰‡é¡¯ç¤º â­ åœ–ç¤ºå’Œç•¶å‰ Baseline ç‰ˆæœ¬åç¨±
- [ ] å¦‚æœæ˜¯å‹•æ…‹ç‰ˆæœ¬ï¼Œç¢ºèªé¡¯ç¤º ğŸ”„ æ—‹è½‰åœ–ç¤ºå’Œ "å‹•æ…‹ Threshold" æ¨™ç±¤
- [ ] ç¢ºèªé¡¯ç¤º "åƒ…ç”¨æ–¼ Benchmark æ¸¬è©¦" ç¶ è‰²æ¨™ç±¤
- [ ] ç¢ºèªé¡¯ç¤º "ä¸å½±éŸ¿ Chat" æ©˜è‰²æ¨™ç±¤

#### 1.3 æª¢æŸ¥ç‰ˆæœ¬åˆ—è¡¨å‹•æ…‹æ¨™ç±¤
- [ ] æ²å‹•åˆ°ç‰ˆæœ¬åˆ—è¡¨
- [ ] æ‰¾åˆ° v1.2.1 ç‰ˆæœ¬ï¼ˆæˆ–å…¶ä»–å‹•æ…‹ç‰ˆæœ¬ï¼‰
- [ ] ç¢ºèªç‰ˆæœ¬åç¨±å¾Œé¡¯ç¤º ğŸ”„ æ©˜è‰²æ—‹è½‰åœ–ç¤º
- [ ] ç¢ºèªé¡¯ç¤º "å‹•æ…‹ Threshold" æ©˜è‰²æ¨™ç±¤

#### 1.4 æ¸¬è©¦è¨­ç‚º Baseline ç¢ºèªå°è©±æ¡†
1. **æƒ…å¢ƒ A: è¨­å®šéå‹•æ…‹ç‰ˆæœ¬ç‚º Baseline**
   - [ ] é»æ“Šä»»æ„éå‹•æ…‹ç‰ˆæœ¬çš„ "è¨­ç‚º Baseline" æŒ‰éˆ•
   - [ ] ç¢ºèªå°è©±æ¡†å‡ºç¾ï¼Œå¯¬åº¦ç´„ 520px
   - [ ] ç¢ºèªé¡¯ç¤ºç‰ˆæœ¬è³‡è¨Šï¼ˆåç¨±ã€æè¿°ï¼‰
   - [ ] ç¢ºèª**æ²’æœ‰**æ©˜è‰²è­¦å‘Šæ¡†
   - [ ] é»æ“Š "ç¢ºèª"ï¼Œè§€å¯Ÿ API è«‹æ±‚
   - [ ] ç¢ºèªé é¢åˆ·æ–°å¾Œï¼ŒBaseline æ‘˜è¦å¡ç‰‡æ›´æ–°

2. **æƒ…å¢ƒ B: è¨­å®šå‹•æ…‹ç‰ˆæœ¬ç‚º Baseline**
   - [ ] é»æ“Š v1.2.1ï¼ˆæˆ–å…¶ä»–å‹•æ…‹ç‰ˆæœ¬ï¼‰çš„ "è¨­ç‚º Baseline" æŒ‰éˆ•
   - [ ] ç¢ºèªå°è©±æ¡†å‡ºç¾
   - [ ] ç¢ºèªé¡¯ç¤ºæ©˜è‰²è­¦å‘Šæ¡† (èƒŒæ™¯ #fff7e6)
   - [ ] ç¢ºèªè­¦å‘Šæ¡†åŒ…å« âš ï¸ åœ–ç¤º
   - [ ] ç¢ºèªè­¦å‘Šæ–‡å­—: "æ­¤ç‰ˆæœ¬ä½¿ç”¨å‹•æ…‹ Threshold..."
   - [ ] ç¢ºèªèªªæ˜æ–‡å­—è§£é‡‹å‹•æ…‹è¼‰å…¥æ©Ÿåˆ¶
   - [ ] é»æ“Š "å–æ¶ˆ"ï¼Œç¢ºèªå°è©±æ¡†é—œé–‰ä¸” Baseline æœªæ”¹è®Š
   - [ ] å†æ¬¡é»æ“Š "è¨­ç‚º Baseline"ï¼Œé€™æ¬¡é»æ“Š "ç¢ºèª"
   - [ ] ç¢ºèª Baseline æ‘˜è¦å¡ç‰‡æ›´æ–°ä¸¦é¡¯ç¤º ğŸ”„ å‹•æ…‹æ¨™ç±¤

### Step 2: æ¸¬è©¦èŠå¤©é é¢ï¼ˆTask 10ï¼‰

#### 2.1 é€²å…¥èŠå¤©é é¢
1. å°èˆªåˆ°: **Protocol Assistant** (å´é‚Šæ¬„)
2. URL æ‡‰ç‚º: `/protocol-assistant`

#### 2.2 æª¢æŸ¥ Baseline Alert é¡¯ç¤º
- [ ] ç¢ºèªé é¢é ‚éƒ¨ï¼ˆå°èˆªæ¬„ä¸‹æ–¹ï¼‰é¡¯ç¤ºè—è‰² Alert æ¡†
- [ ] ç¢ºèª Alert ä½ç½®å›ºå®šï¼ˆæ»¾å‹•é é¢æ™‚ Alert ä¸ç§»å‹•ï¼‰
- [ ] ç¢ºèª Alert å·¦å´å®šä½æ­£ç¢ºï¼ˆèˆ‡ Sidebar å¯¬åº¦åŒ¹é…ï¼‰
- [ ] ç¢ºèª Alert é¡¯ç¤º â­ åœ–ç¤º + "ç•¶å‰ Baseline: {ç‰ˆæœ¬åç¨±}"
- [ ] å¦‚æœ Baseline æ˜¯å‹•æ…‹ç‰ˆæœ¬ï¼Œç¢ºèªé¡¯ç¤º ğŸ”„ æ©˜è‰²æ—‹è½‰åœ–ç¤ºå’Œæ¨™ç±¤

#### 2.3 æª¢æŸ¥ Alert å…§å®¹
- [ ] ç¢ºèª Alert æè¿°æ–‡å­—:
  - "æ­¤é…ç½®åƒ…ç”¨æ–¼ Benchmark æ¸¬è©¦ã€‚"
  - "Chat åŠŸèƒ½çš„æª¢ç´¢åƒæ•¸åœ¨ Dify å·¥ä½œå®¤ä¸­é…ç½®ã€‚"
- [ ] ç¢ºèªæ–‡å­—æ¸…æ¥šèªªæ˜ Baseline çš„ä½œç”¨ç¯„åœé™åˆ¶

#### 2.4 æ¸¬è©¦ Sidebar éŸ¿æ‡‰å¼
1. **Sidebar å±•é–‹ç‹€æ…‹**
   - [ ] ç¢ºèª Alert å·¦é‚Šè·: 300px
   - [ ] ç¢ºèª Alert æœªè¢« Sidebar é®æ“‹
   
2. **Sidebar æ”¶åˆç‹€æ…‹**
   - [ ] é»æ“Š Sidebar æ”¶åˆæŒ‰éˆ•ï¼ˆé€šå¸¸æ˜¯ â‰¡ åœ–ç¤ºï¼‰
   - [ ] ç¢ºèª Alert å·¦é‚Šè·è‡ªå‹•èª¿æ•´ç‚º: 80px
   - [ ] ç¢ºèª Alert ä»ç„¶å¯è¦‹ä¸”æœªè¢«é®æ“‹
   
3. **å†æ¬¡å±•é–‹ Sidebar**
   - [ ] é»æ“Šå±•é–‹æŒ‰éˆ•
   - [ ] ç¢ºèª Alert å·¦é‚Šè·æ¢å¾©ç‚º: 300px

#### 2.5 æ¸¬è©¦ Alert é—œé–‰åŠŸèƒ½
- [ ] é»æ“Š Alert å³ä¸Šè§’çš„ âœ• é—œé–‰æŒ‰éˆ•
- [ ] ç¢ºèª Alert æ¶ˆå¤±
- [ ] ç¢ºèªèŠå¤©å®¹å™¨çš„ paddingTop èª¿æ•´ï¼ˆæ¸›å°‘ä¸Šæ–¹ç©ºç™½ï¼‰
- [ ] ç™¼é€ä¸€æ¢æ¸¬è©¦è¨Šæ¯ï¼Œç¢ºèªèŠå¤©åŠŸèƒ½æ­£å¸¸
- [ ] é‡æ–°æ•´ç†é é¢ (F5)
- [ ] ç¢ºèª Alert å†æ¬¡å‡ºç¾ï¼ˆé—œé–‰ç‹€æ…‹æœªæŒä¹…åŒ–ï¼‰

### Step 3: æ•´åˆæ¸¬è©¦ï¼ˆè·¨é é¢ï¼‰

#### 3.1 Baseline åˆ‡æ›è¯å‹•æ¸¬è©¦
1. **åˆå§‹ç‹€æ…‹**
   - [ ] åœ¨ç‰ˆæœ¬ç®¡ç†é é¢ç¢ºèªç•¶å‰ Baselineï¼ˆä¾‹å¦‚ v1.2.0ï¼‰
   - [ ] åˆ‡æ›åˆ°èŠå¤©é é¢ï¼Œç¢ºèª Alert é¡¯ç¤ºç›¸åŒç‰ˆæœ¬
   
2. **åˆ‡æ› Baseline**
   - [ ] å›åˆ°ç‰ˆæœ¬ç®¡ç†é é¢
   - [ ] è¨­å®š v1.2.1 ç‚º Baselineï¼ˆå‹•æ…‹ç‰ˆæœ¬ï¼‰
   - [ ] ç¢ºèªé é¢åˆ·æ–°ï¼Œæ‘˜è¦å¡ç‰‡æ›´æ–°
   - [ ] åˆ‡æ›åˆ°èŠå¤©é é¢
   - [ ] é‡æ–°æ•´ç†é é¢ (F5)
   - [ ] ç¢ºèª Alert é¡¯ç¤º "ç•¶å‰ Baseline: v1.2.1 Protocol å‹•æ…‹æª¢ç´¢æ¸¬è©¦ç‰ˆ"
   - [ ] ç¢ºèªé¡¯ç¤º ğŸ”„ å‹•æ…‹æ¨™ç±¤

3. **å†æ¬¡åˆ‡æ›å›éå‹•æ…‹ç‰ˆæœ¬**
   - [ ] å›åˆ°ç‰ˆæœ¬ç®¡ç†é é¢
   - [ ] è¨­å®š v1.2.0 ç‚º Baselineï¼ˆæˆ–å…¶ä»–éå‹•æ…‹ç‰ˆæœ¬ï¼‰
   - [ ] åˆ‡æ›åˆ°èŠå¤©é é¢ä¸¦é‡æ–°æ•´ç†
   - [ ] ç¢ºèª Alert ä¸å†é¡¯ç¤º ğŸ”„ å‹•æ…‹æ¨™ç±¤

---

## ğŸ” API å‘¼å«é©—è­‰

### ä½¿ç”¨ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·
1. æ‰“é–‹ **Developer Tools** (F12)
2. åˆ‡æ›åˆ° **Network** æ¨™ç±¤
3. éæ¿¾ XHR/Fetch è«‹æ±‚

### é æœŸ API è«‹æ±‚
1. **ç²å– Baseline (GET)**
   ```
   Request: GET /api/dify-config-versions/get_baseline/
   Response: {
     "version_name": "v1.2.1 Protocol å‹•æ…‹æª¢ç´¢æ¸¬è©¦ç‰ˆ",
     "rag_settings": {
       "stage1": { "use_dynamic_threshold": true, ... },
       "stage2": { "use_dynamic_threshold": true, ... }
     }
   }
   ```

2. **è¨­å®š Baseline (POST)**
   ```
   Request: POST /api/dify-config-versions/{version_id}/set_baseline/
   Response: {
     "message": "å·²å°‡ v1.2.1 è¨­ç‚º Baseline",
     "version_name": "v1.2.1 Protocol å‹•æ…‹æª¢ç´¢æ¸¬è©¦ç‰ˆ",
     "is_baseline": true
   }
   ```

---

## âœ… æ¸¬è©¦æª¢æŸ¥æ¸…å–®

### Task 9: ç‰ˆæœ¬ç®¡ç†é é¢
- [ ] Baseline æ‘˜è¦å¡ç‰‡æ­£ç¢ºé¡¯ç¤º
- [ ] å‹•æ…‹ç‰ˆæœ¬æ¨™è¨˜ï¼ˆğŸ”„ï¼‰æ­£ç¢ºé¡¯ç¤º
- [ ] è¨­ç‚º Baseline ç¢ºèªå°è©±æ¡†æ­£å¸¸å½ˆå‡º
- [ ] å‹•æ…‹ç‰ˆæœ¬è­¦å‘Šæ¡†ï¼ˆæ©˜è‰²ï¼‰æ­£ç¢ºé¡¯ç¤º
- [ ] è¨­å®š Baseline æˆåŠŸä¸” UI æ›´æ–°
- [ ] éå‹•æ…‹ç‰ˆæœ¬è¨­å®šæ™‚ç„¡è­¦å‘Šæ¡†
- [ ] å‹•æ…‹ç‰ˆæœ¬è¨­å®šæ™‚æœ‰å®Œæ•´è­¦å‘Šèªªæ˜

### Task 10: èŠå¤©é é¢
- [ ] é ‚éƒ¨ Baseline Alert æ­£ç¢ºé¡¯ç¤º
- [ ] Alert å›ºå®šå®šä½ä¸”éŸ¿æ‡‰å¼èª¿æ•´
- [ ] Sidebar å±•é–‹/æ”¶åˆæ™‚ Alert å®šä½æ­£ç¢º
- [ ] å‹•æ…‹ç‰ˆæœ¬æ¨™è¨˜ï¼ˆğŸ”„ï¼‰æ­£ç¢ºé¡¯ç¤º
- [ ] èªªæ˜æ–‡å­—æ¸…æ¥šè¡¨é”ä½œç”¨ç¯„åœé™åˆ¶
- [ ] Alert å¯é—œé–‰ä¸”ä¸å½±éŸ¿èŠå¤©åŠŸèƒ½
- [ ] é‡æ–°æ•´ç†å¾Œ Alert é‡æ–°å‡ºç¾

### æ•´åˆæ¸¬è©¦
- [ ] ç‰ˆæœ¬ç®¡ç†é é¢èˆ‡èŠå¤©é é¢ Baseline è³‡è¨Šä¸€è‡´
- [ ] Baseline åˆ‡æ›å¾Œå…©å€‹é é¢åŒæ­¥æ›´æ–°
- [ ] å‹•æ…‹/éå‹•æ…‹ç‰ˆæœ¬åˆ‡æ›æ¨™è¨˜æ­£ç¢ºè®ŠåŒ–

---

## ğŸ› å¸¸è¦‹å•é¡Œæ’æŸ¥

### å•é¡Œ 1: Baseline Alert æœªé¡¯ç¤º
**ç—‡ç‹€**: èŠå¤©é é¢é ‚éƒ¨æ²’æœ‰ Alert  
**æ’æŸ¥æ­¥é©Ÿ**:
1. æª¢æŸ¥ç€è¦½å™¨ Console æ˜¯å¦æœ‰éŒ¯èª¤
2. æª¢æŸ¥ Network è«‹æ±‚ `/api/dify-config-versions/get_baseline/` æ˜¯å¦æˆåŠŸ
3. æª¢æŸ¥æ˜¯å¦æœ‰è³‡æ–™åº«ä¸­æœ‰ Baseline ç‰ˆæœ¬:
   ```bash
   docker exec postgres_db psql -U postgres -d ai_platform -c \
     "SELECT * FROM dify_config_versions WHERE is_baseline = true;"
   ```

### å•é¡Œ 2: å‹•æ…‹æ¨™ç±¤æœªé¡¯ç¤º
**ç—‡ç‹€**: v1.2.1 ç‰ˆæœ¬æ²’æœ‰ ğŸ”„ æ¨™è¨˜  
**æ’æŸ¥æ­¥é©Ÿ**:
1. æª¢æŸ¥ç‰ˆæœ¬çš„ `rag_settings`:
   ```bash
   docker exec postgres_db psql -U postgres -d ai_platform -c \
     "SELECT rag_settings FROM dify_config_versions WHERE version_name LIKE '%1.2.1%';"
   ```
2. ç¢ºèª `rag_settings.stage1.use_dynamic_threshold` ç‚º `true`
3. ç¢ºèª `rag_settings.stage2.use_dynamic_threshold` ç‚º `true`

### å•é¡Œ 3: Alert å®šä½éŒ¯èª¤
**ç—‡ç‹€**: Alert è¢« Sidebar é®æ“‹æˆ–ä½ç½®ä¸æ­£ç¢º  
**æ’æŸ¥æ­¥é©Ÿ**:
1. æª¢æŸ¥ç€è¦½å™¨ Console æ˜¯å¦æœ‰ CSS éŒ¯èª¤
2. ä½¿ç”¨ Developer Tools æª¢æŸ¥ Alert çš„ `left` æ¨£å¼
3. ç¢ºèª Sidebar collapsed state æ˜¯å¦æ­£ç¢ºå‚³é:
   ```javascript
   // åœ¨ç€è¦½å™¨ Console åŸ·è¡Œ
   document.querySelector('[class*="Alert"]').style.left
   // æ‡‰è©²æ˜¯ "300px" (å±•é–‹) æˆ– "80px" (æ”¶åˆ)
   ```

### å•é¡Œ 4: ç¢ºèªå°è©±æ¡†æœªé¡¯ç¤ºè­¦å‘Š
**ç—‡ç‹€**: è¨­å®šå‹•æ…‹ç‰ˆæœ¬æ™‚æ²’æœ‰æ©˜è‰²è­¦å‘Šæ¡†  
**æ’æŸ¥æ­¥é©Ÿ**:
1. æª¢æŸ¥ `handleSetBaseline` æ˜¯å¦æ¥æ”¶å®Œæ•´ version ç‰©ä»¶
2. æª¢æŸ¥ç‰ˆæœ¬çš„ `rag_settings` æ˜¯å¦åŒ…å« `use_dynamic_threshold: true`
3. æª¢æŸ¥ `isDynamic` è¨ˆç®—é‚è¼¯:
   ```javascript
   const isDynamic = 
     version.rag_settings?.stage1?.use_dynamic_threshold || 
     version.rag_settings?.stage2?.use_dynamic_threshold;
   ```

---

## ğŸ“¸ æ¸¬è©¦æˆªåœ–è¨˜éŒ„

### å»ºè­°æˆªåœ–å…§å®¹
1. **ç‰ˆæœ¬ç®¡ç†é é¢**
   - [ ] Baseline æ‘˜è¦å¡ç‰‡ï¼ˆé‡‘è‰²èƒŒæ™¯ï¼Œé¡¯ç¤ºå‹•æ…‹æ¨™ç±¤ï¼‰
   - [ ] ç‰ˆæœ¬åˆ—è¡¨ï¼ˆv1.2.1 é¡¯ç¤º ğŸ”„ æ¨™è¨˜ï¼‰
   - [ ] ç¢ºèªå°è©±æ¡†ï¼ˆæ©˜è‰²è­¦å‘Šæ¡†ï¼‰

2. **èŠå¤©é é¢**
   - [ ] Sidebar å±•é–‹ç‹€æ…‹ï¼ˆAlert å®šä½ left: 300pxï¼‰
   - [ ] Sidebar æ”¶åˆç‹€æ…‹ï¼ˆAlert å®šä½ left: 80pxï¼‰
   - [ ] Alert é¡¯ç¤ºå‹•æ…‹æ¨™ç±¤

3. **API è«‹æ±‚**
   - [ ] get_baseline API æˆåŠŸå›æ‡‰
   - [ ] set_baseline API æˆåŠŸå›æ‡‰

---

## ğŸ“ æ¸¬è©¦çµæœè¨˜éŒ„

### æ¸¬è©¦åŸ·è¡Œè€…
- å§“å: _______________
- æ—¥æœŸ: 2025-01-20
- ç€è¦½å™¨: _______________
- ç‰ˆæœ¬: _______________

### æ¸¬è©¦çµæœæ‘˜è¦
| æ¸¬è©¦é …ç›® | é æœŸçµæœ | å¯¦éš›çµæœ | ç‹€æ…‹ | å‚™è¨» |
|---------|---------|---------|------|------|
| Baseline æ‘˜è¦å¡ç‰‡ | æ­£ç¢ºé¡¯ç¤º | | â¬œ PASS â¬œ FAIL | |
| å‹•æ…‹ç‰ˆæœ¬æ¨™è¨˜ | ğŸ”„ é¡¯ç¤º | | â¬œ PASS â¬œ FAIL | |
| ç¢ºèªå°è©±æ¡† | æ­£å¸¸å½ˆå‡º | | â¬œ PASS â¬œ FAIL | |
| å‹•æ…‹è­¦å‘Šæ¡† | æ©˜è‰²è­¦å‘Š | | â¬œ PASS â¬œ FAIL | |
| èŠå¤©é é¢ Alert | æ­£ç¢ºé¡¯ç¤º | | â¬œ PASS â¬œ FAIL | |
| éŸ¿æ‡‰å¼å®šä½ | æ­£ç¢ºèª¿æ•´ | | â¬œ PASS â¬œ FAIL | |
| Baseline åˆ‡æ› | åŒæ­¥æ›´æ–° | | â¬œ PASS â¬œ FAIL | |

### ç™¼ç¾çš„å•é¡Œ
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

### æ”¹é€²å»ºè­°
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

---

## ğŸ¯ å¾ŒçºŒæ­¥é©Ÿ

å®Œæˆå‰ç«¯æ¸¬è©¦å¾Œï¼Œé€²å…¥ **Task 11: ç«¯åˆ°ç«¯æ¸¬è©¦**ï¼š
1. âœ… å¾Œç«¯åŠŸèƒ½å·²æ¸¬è©¦é€šéï¼ˆTask 7ï¼‰
2. âœ… å‰ç«¯ UI åŠŸèƒ½æ¸¬è©¦é€šéï¼ˆTask 9-10ï¼Œæœ¬æŒ‡å—ï¼‰
3. â³ å®Œæ•´æµç¨‹æ¸¬è©¦ï¼šè¨­å®š Baseline â†’ èª¿æ•´ Threshold â†’ åŸ·è¡Œ Benchmark â†’ é©—è­‰çµæœ

**ä¸‹ä¸€æ­¥**: åŸ·è¡Œå®Œæ•´çš„ E2E æ¸¬è©¦æµç¨‹ï¼Œåƒè€ƒ `test_dify_dynamic_threshold.py`

---

**æ–‡æª”æ›´æ–°æ—¥æœŸ**: 2025-01-20  
**ç‰ˆæœ¬**: v1.0  
**ç›¸é—œæ–‡æª”**:
- Task 8 ç¯„åœèª¿æ•´: `/docs/features/dify-v1-2-1-task8-scope-adjustment.md`
- å¯¦ä½œç¸½çµ: `/docs/features/dify-v1-2-1-implementation-summary.md`
